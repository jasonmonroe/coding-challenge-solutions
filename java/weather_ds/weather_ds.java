/******************************************************** * Jason Monroe * November 23, 2003 - December 2, 2003 * weather_ds.java * DRAFT: 3 *  * This program will open a text file of html code, parse the  * data, and store the appropriate data in the variables, then  * it will print those values out. * *******************************************************/ import java.io.*;import java.net.*;import java.util.*;import java.io.InputStream;import java.io.BufferedReader;import java.io.InputStreamReader;import java.io.IOException;import java.text.NumberFormat;import java.lang.Exception; //import javax.swing.text.html.*;//import java.io.FileNotFoundException;//javax.servlet.*;//import javax.servlet.http.*;public class weather_ds{    double dayHigh[] = new double[5];    double dayLow[] = new double[5];    String dayCond[] = new String[5];       String cond, winds;    double dewPt, humidity, pressure, windChill, barometer;    double curTemp;    //String curTemp, humidity, pressure;    //String dewPt, winds, cond, barometer, windChill;         /************** MAIN *****************/     public static void main(String[] args) throws IOException    {           wunderground wundergroundObj = new wunderground();        ucar ucarObj = new ucar();        noaa noaaObj = new noaa();            String fileName1 = "G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\wunderground.txt";        String fileName2 = "G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\ucar.txt";        String fileName3 = "G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\noaa.txt";                //File dstFile = new File("G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\output.txt");        //PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(dstFile)));                wundergroundObj.process(fileName1);        //ucarObj.process(fileName2);        //noaaObj.process(fileName3);         }   } /* http://www.wunderground.com/cgi-bin/findweather/getForecast?query=65201 *//*public*/ class wunderground{    public weather_ds process(String filename) throws IOException    {        weather_ds wundergroundDS = new weather_ds();                File srcFile = new File(filename);        BufferedReader in = new BufferedReader(new FileReader(srcFile));        File dstFile = new File("G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\output_w.txt");        PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(dstFile)));              String html = "";        String subHtml[] = new String[1500];           String sTemp = "<TD width=\"35%\">Temperature</TD>";        String sWC = "<TD>Windchill</TD>";        String sHum = "<TD>Humidity</TD>";        String sDwPt = "<TD>Dew Point</TD>";        String sPres = "<TD>Pressure</TD>";        String sCond = "<TD>Conditions</TD>";        //day1 high, low; just change the ## will be very large!        String sD_hl = "src=\"Weather Underground Columbia, Missouri Forecast_files/cloudy.gif\"";        //conditions for all days, just change the number after the (indexOf() + ##)        String sDcond ="<TD class=smalltable vAlign=top align=middle>";           int ctr = 0;        while(in.ready())        {            subHtml[ctr] = in.readLine();            ctr++;                }          for(int i=0; i<ctr; i++)            html = html.concat(subHtml[i]);                 String str1 = html.substring(html.indexOf(sTemp + 61));                //out.println(str1);        //System.out.println("str1 = " + str1);        String temp = str1.substring(0,2);        System.out.println("temp =" + temp);        //Double tempD = new Double(temp);        double tempD = Double.parseDouble(temp);        wundergroundDS.curTemp = tempD;        //wundergroundDS.curTemp = tempD.doubleValue();        System.out.println("wundergroundDS.curTemp = " +wundergroundDS.curTemp);        //wind chill        //humidity        //dew point        //pressure        //cond                //dayHigh, dayLow, dayCond        //dayHigh, dayLow, dayCond 2        //dayHigh, dayLow, dayCond 3        //dayHigh, dayLow, dayCond 4        //dayHigh, dayLow, dayCond 5        //}                    //temperature                // <TD width="35%">Temperature</TD>        //              <TD><B>38</B>&nbsp;°F / <B>3</B>&nbsp;°C </TD></TR>                //out.println(html);           //System.out.println(html);                        return wundergroundDS;    }}    /* http://www.rap.ucar.edu/weather/surface/index.php?metarIds=KSUS&hoursStr=1&std_trans=translated *//*public*/ class ucar{    public weather_ds process(String filename) throws IOException    {        weather_ds ucarDS = new weather_ds();        File srcFile = new File(filename);        BufferedReader in = new BufferedReader(new FileReader(srcFile));             File dstFile = new File("G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\output_ucar.txt");        PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(dstFile)));        String html = "";        String subHtml[] = new String[1500];        String search[] = new String[22];         int ctr=0;        while(in.ready())        {            subHtml[ctr] = in.readLine();            ctr++;                    System.out.println("subHtml["+ctr+"]=" + subHtml[ctr]);        }        for(int i=0; i<ctr; i++)            html = html.concat(subHtml[i]);                //temperature        //dewPt        //pressure        //winds        //condition/clouds                return(ucarDS);    }}/* http://www.crh.noaa.gov/forecasts/MOZ041.php?warncounty=MOC019&city=Columbia *//*public*/ class noaa{    public weather_ds process(String filename) throws IOException    {        weather_ds noaaDS = new weather_ds();        File srcFile = new File(filename);        BufferedReader in = new BufferedReader(new FileReader(srcFile));                File dstFile = new File("G:\\Jason\\mizzou\\cecs\\332\\weather_ds\\output_noaa.txt");        PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(dstFile)));                int ctr=0;        String html = "";        String subHtml[] = new String[1500];        String search[] = new String[22];        while(in.ready())        {            subHtml[ctr] = in.readLine();            ctr++;                }        for(int i=0; i<ctr; i++)            html = html.concat(subHtml[i]);                //temperature        //barometer        //dewPt        //windChill                return(noaaDS);    }}